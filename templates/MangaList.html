<!-- --- File: templates/MangaList.html --- -->

<!-- 1. Bannière -->
<div id="hero-banner-section" class="full-width"></div>

<!-- 2. Infos principales & Description -->
<section id="series-info-section">
  <div class="major-container">
    <div class="detail-cover-wrapper">
      <img class="detail-cover" src="" alt="Couverture" />
    </div>
    <div class="hero-info-text-container">
      <div class="hero-info-top">
        <div class="hero-titles">
          <h2 class="detail-jp-title"></h2>
          <h1 class="detail-title"></h1>
        </div>
        <div class="series-metadata-container">
          <div class="detail-tags"></div>
          <div class="series-status-year">
            <span class="status-indicator"
              ><span class="status-dot"></span
            ></span>
            <span class="year-separator">-</span>
            <span class="release-year"></span>
          </div>
        </div>
      </div>
      <div class="hero-info-bottom">
        <div class="hero-creator-info">
          <p class="detail-meta detail-creator-info"></p>
        </div>
        <div id="reading-actions-container">
          <div id="series-rating-container">
            <!-- Le composant de notation sera injecté ici par le JS -->
          </div>
          <!-- Les autres boutons d'action seront ajoutés ici par le JS -->
        </div>
      </div>
    </div>
  </div>

  <!-- Conteneurs "cibles" pour le JS en vue mobile (vides sur desktop) -->
  <div class="mobile-only-targets">
    <div id="mobile-tags-target"></div>
    <div id="mobile-status-target"></div>
    <div id="mobile-actions-target"></div>
  </div>

  <div id="description-wrapper">
    <p class="detail-description"></p>
    <div class="series-more-infos"></div>
    <div class="series-see-more-row">
      <button class="series-see-more-btn" type="button" aria-expanded="false">
        <i class="fa-solid fa-chevron-down"></i>
        <span class="see-more-label">Afficher plus</span>
      </button>
    </div>
  </div>
</section>

<!-- 3. Liste des chapitres (nouvelle structure) -->
<section class="series-chapters-list">
  <div class="chapters-list-header">
    <div class="chapter-switch-tabs">
      <button class="chapter-tab-btn active" data-tab="chapters">
        Chapitres
      </button>
      <button class="chapter-tab-btn" data-tab="episodes">Épisodes</button>
    </div>
    <div class="chapter-header-actions">
      <div class="search-chapter">
        <input
          id="search-chapter-input"
          type="text"
          placeholder="Rechercher un chapitre..."
        />
      </div>
      <div class="sort-chapter">
        <button id="sort-chapter-btn" class="sort-chapter-btn">
          <i class="fas fa-sort"></i><span class="sort-btn-text"> Trier</span>
        </button>
      </div>
      <div class="download-actions">
        <button
          id="download-selected-btn"
          class="sort-chapter-btn"
          style="display: none"
        >
          <i class="fas fa-file-archive"></i
          ><span class="download-btn-text"> Télécharger</span>
        </button>
        <button
          id="download-options-btn"
          class="sort-chapter-btn"
          title="Options de téléchargement"
          style="display: none"
        >
          <i class="fas fa-cog"></i>
        </button>
        <div id="download-options-popup" class="download-options-popup">
          <h5>Format</h5>
          <div class="option-group" id="format-options">
            <button class="secondary-toggle-btn" data-value="ZIP">
              <i class="check-icon"></i> ZIP
            </button>
            <button class="secondary-toggle-btn" data-value="CBZ">
              <i class="check-icon"></i> CBZ
            </button>
          </div>
          <h5>Compression (Qualité)</h5>
          <button
            id="compression-btn"
            class="main-setting-btn"
            data-setting="compression"
          ></button>
          <p id="compression-info" class="compression-info"></p>
        </div>
        <button
          id="toggle-download-mode-btn"
          class="sort-chapter-btn"
          title="Activer le mode téléchargement"
        >
          <i class="fas fa-download"></i>
        </button>

        <!-- Le menu déroulant de progression -->
        <div id="download-progress-popup" class="download-progress-popup">
          <div class="progress-header">
            <span id="progress-eta">Calcul en cours...</span>
            <button id="cancel-download-btn" title="Annuler le téléchargement">
              <i class="fas fa-times"></i> Annuler
            </button>
          </div>
          <div id="progress-options-summary"></div>
          <ul id="progress-log-list"></ul>
        </div>
      </div>
    </div>
  </div>
  <div class="chapters-list-container">
    <!-- Les cartes chapitres seront injectées ici par le JS -->
  </div>
</section>
<div id="cover-gallery-overlay" class="cover-gallery-overlay">
  <button class="cover-gallery-close" aria-label="Fermer la galerie">
    &times;
  </button>
  <div class="cover-gallery-grid-container">
    <div class="cover-gallery-grid">
      <!-- Les couvertures seront injectées ici par le JS -->
    </div>
  </div>
</div>
<div id="cover-lightbox" class="cover-lightbox">
  <!-- L'image sera injectée ici par le JS -->
</div>
<div id="chapter-card-tooltip" class="chapter-card-tooltip"></div>
